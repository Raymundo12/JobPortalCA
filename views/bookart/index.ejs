<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>BLM Book Shop</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/PaddysCafe.css" rel="stylesheet">

</head>

<body>

    <!-- Navigation to the webbookpage -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
        <div class="container">
            <a class="navbar-brand" href="#">BLM BookShop</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About BLM BookShop</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Where to find Audiobooks</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- header background -->
    <!-- services N/A -->

    <!-- priting the database collection documents in a html form. For each function is used to achieve this. 
    Each and every document into the table one by one until all documents are shown. 
And each and every document value is print out seperately.
-->


    <section id="products" class="bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                 <h2 class="text-uppercase section-heading"> Products  </h2>
                <p class="lead">Select a product from the below Options.</p>
         
            </div>
            <a href="/carparts/new" class="btn btn-success">New Parts</a>
             <div class="col-lg-12 text-center"> <p> </p>   </div>
             
 
 <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th>ManufacturerBook</th>
                            <th>ModelPrice</th>
                            <th>Part Name</th>
                            <th>Price â‚¬</th>
                          
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!--  this are the data to be displayed from the database. Each and every document is caputred using a get request to the 
                        
                        database collection. And get request is passed into a schema and each value recieved is displayed one by one into the table on the appropriate column. -->
                        <% parts.forEach(part => { %>
                        <tr>
                            
                            <td> <%= part.Manufacturer %> </td>
                            <td> <%= part.Model %> </td>
                            <td>  <%= part.Part %>  </td>
                            <td> <%= part.Price %> </td>
                
                            <td>
                               <!--   this is button to edit a purticular record using id. When click take you to edit form page which populate all the data 
                            associated with the id. And we have to change only what we want to -->
                                  <a href="/carparts/edit/<%= part.id %>"  >
                                <button class="btn btn-success" style="margin-left: 5px;" type="submit"><i class="fa fa-pencil" style="font-size: 15px;">
                                </i></button>
                            </a>
                                <!--   this is button to delete a purticular record using id which is linked to my api which sent a delete request.
                                Which sents the data to backend via post. -->
                                <form action="/carparts/<%= part.id %>?_method=DELETE" method="POST" class="d-inline"  >
                                <button class="btn btn-danger" style="margin-left: 5px;" type="submit"><i class="fa fa-trash" style="font-size: 15px;">
                                </i></button>
                               </form>
                            </td>
                        </tr>
                        <% }) %>
                    </tbody>
                </table>
            </div>

         
        </div>
    </div>
    <!-- Page Content -->
    <!-- <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h1 class="mt-5">Welcome to BLM BookShop</h1>
                <p class="lead">Select your wish-list from the menu below</p>
            </div>
            <div id="results" class="col-lg-8 order-2 mb-5"></div>
            <div class="col-lg-4 order-1">
                <form enctype="application/json" action="/post/json" method="post">
                    <div class="form-group">
                        <select class="form-control" name="sec_n">
                            <option value="0">Best-Sellers</option>
                            <option value="1">Biographies-Memoirs</option>
                            <option value="2">Literature-Fiction</option>
                            <option value="3">Teen-Young Adult</option>
                        </select>
                        <input class="form-control mt-3" type="text" name="item" placeholder="Item">
                        <input class="form-control mt-3" type="text" name="price" placeholder="Price">
                        <button type="submit" class="btn btn-primary btn-block mt-3">Submit</button>
                    </div>
                </form>
                <button id="delete" class="btn btn-danger btn-block mt-3">Delete</button> -->
                <!-- <p class="text-muted text-center">To delete an entree, click the required row first</p>
                <form>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">&euro;</span>
                        </div>
                        <input type="text" class="form-control" aria-label="Total" name="txtBillAmt">
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <input type="checkbox" id="showVeg" aria-label="Checkbox for following text input">
                            </div>
                        </div>
                        <input class="btn btn-block btn-secondary mt-2" type="button" name="btnCalcBill"
                            value="Calculate Bill" id="calcBill">
                    </div>
                </form>
            </div>
        </div>
    </div> -->
    <footer class="footer">
        <div class="container text-center"><span class="text-muted">&copy; 2021</span></div>
    </footer>
    <!-- Bootstrap core JavaScript -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/table.js"></script>
    <script src="js/PaddysCafe.js"></script>
    <script>
    //     window.addEventListener("load", function() {
    //         document.forms[1].txtBillAmt.value = calculateBill('menuTable');
    //         document.querySelector("#calcBill").addEventListener("click", function() {
    //             document.forms[1].txtBillAmt.value = calculateBill('menuTable');
    //         });
    //         document.querySelector("#showVeg").addEventListener("click", function() {
    //             highlightVegetarian('menuTable', this.checked);
    //         });
    //     });
    // </script>
</body>

</html>